
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>@ExtractBy Â· WebMagic Documents</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-disqus/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="extractby-on-class.html" />
    
    
    <link rel="prev" href="targeturl.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../ch1-overview/">
            
                <a href="../ch1-overview/">
            
                    
                    WebMagic Overview
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../ch1-overview/philosophy.html">
            
                <a href="../ch1-overview/philosophy.html">
            
                    
                    Philosophy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../ch1-overview/architecture.html">
            
                <a href="../ch1-overview/architecture.html">
            
                    
                    Architect
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../ch1-overview/component.html">
            
                <a href="../ch1-overview/component.html">
            
                    
                    Components
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../ch2-install/">
            
                <a href="../ch2-install/">
            
                    
                    Install
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../ch2-install/with-maven.html">
            
                <a href="../ch2-install/with-maven.html">
            
                    
                    With maven
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../ch2-install/without-maven.html">
            
                <a href="../ch2-install/without-maven.html">
            
                    
                    Without maven
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../ch2-install/first-project.html">
            
                <a href="../ch2-install/first-project.html">
            
                    
                    First Project
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../ch3-build-source/">
            
                <a href="../ch3-build-source/">
            
                    
                    Build From Source
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../ch3-build-source/git-repo.html">
            
                <a href="../ch3-build-source/git-repo.html">
            
                    
                    Get the Source Code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../ch3-build-source/import-project.html">
            
                <a href="../ch3-build-source/import-project.html">
            
                    
                    Import Project
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../ch3-build-source/compile-code.html">
            
                <a href="../ch3-build-source/compile-code.html">
            
                    
                    Build and run examples
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../ch4-basic-page-processor/">
            
                <a href="../ch4-basic-page-processor/">
            
                    
                    Basic crawler
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../ch4-basic-page-processor/pageprocessor.html">
            
                <a href="../ch4-basic-page-processor/pageprocessor.html">
            
                    
                    Implement PageProcessor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../ch4-basic-page-processor/selectable.html">
            
                <a href="../ch4-basic-page-processor/selectable.html">
            
                    
                    Selectable
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../ch4-basic-page-processor/results.html">
            
                <a href="../ch4-basic-page-processor/results.html">
            
                    
                    Save the results
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../ch4-basic-page-processor/spider-config.html">
            
                <a href="../ch4-basic-page-processor/spider-config.html">
            
                    
                    Config and control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../ch4-basic-page-processor/xsoup.html">
            
                <a href="../ch4-basic-page-processor/xsoup.html">
            
                    
                    Jsoup and Xsoup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="../ch4-basic-page-processor/monitor.html">
            
                <a href="../ch4-basic-page-processor/monitor.html">
            
                    
                    Monitor with JMX
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="./">
            
                <a href="./">
            
                    
                    Crawler in Annotation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="model.html">
            
                <a href="model.html">
            
                    
                    Write Model class
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="targeturl.html">
            
                <a href="targeturl.html">
            
                    
                    TargetUrl and HelpUrl
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.6.3" data-path="extractby.html">
            
                <a href="extractby.html">
            
                    
                    @ExtractBy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="extractby-on-class.html">
            
                <a href="extractby-on-class.html">
            
                    
                    @ExtractBy on Class
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="formatter.html">
            
                <a href="formatter.html">
            
                    
                    Formatter of Result
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="lifecycle.html">
            
                <a href="lifecycle.html">
            
                    
                    A Complete Sample
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.7" data-path="after-extractor.html">
            
                <a href="after-extractor.html">
            
                    
                    AfterExtractor
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../ch6-custom-componenet/">
            
                <a href="../ch6-custom-componenet/">
            
                    
                    Customize Components
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../ch6-custom-componenet/pipeline.html">
            
                <a href="../ch6-custom-componenet/pipeline.html">
            
                    
                    Pipeline
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../ch6-custom-componenet/scheduler.html">
            
                <a href="../ch6-custom-componenet/scheduler.html">
            
                    
                    Scheduler
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../ch6-custom-componenet/downloader.html">
            
                <a href="../ch6-custom-componenet/downloader.html">
            
                    
                    Downloader
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../chx-cases/">
            
                <a href="../chx-cases/">
            
                    
                    Case Study
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../chx-cases/basic-list-target.html">
            
                <a href="../chx-cases/basic-list-target.html">
            
                    
                    The combination of basic page and list links
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../chx-cases/js-render-page.html">
            
                <a href="../chx-cases/js-render-page.html">
            
                    
                    Front-end JS rendering page
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" >
            
                <span>
            
                    
                    Crawl page
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" >
            
                <span>
            
                    
                    Periodically crawl
            
                </span>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="../chx-cases/ajax.html">
            
                <a href="../chx-cases/ajax.html">
            
                    
                    Incremental Update
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >@ExtractBy</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h3 id="53-extractby">5.3 <code>@ExtractBy</code></h3>
<p><code>@ExtractBy</code> annotation is used to extract a element, which describes an extraction rule.</p>
<h4 id="531-intro-to-extractby-annotation">5.3.1 Intro to @ExtractBy annotation</h4>
<p>@ExtractBy Annotation major role in the field, it means &quot;the use of the extraction rules, to save the extracted result into this field.&quot; E.g:</p>
<pre><code class="lang-java"><span class="hljs-meta">@ExtractBy</span>(<span class="hljs-string">&quot;//div[@id=&apos;readme&apos;]/text()&quot;</span>)
<span class="hljs-keyword">private</span> String readme;
</code></pre>
<p>Here &quot;//div[@id=&apos;readme&apos;]/text()&quot; is a representation of the XPath extraction rules, and to extract the results will be saved to the readme field.</p>
<h4 id="532-use-other-ways-to-extract">5.3.2 use other ways to extract</h4>
<p>In addition to XPath, we can also use other ways to extract extraction, including CSS selectors, regular expressions and JsonPath, indicated in a annotation after the <code>type</code> can.</p>
<pre><code class="lang-java"><span class="hljs-meta">@ExtractBy</span>(value = <span class="hljs-string">&quot;div.BlogContent&quot;</span>, type = ExtractBy.Type.Css)
<span class="hljs-keyword">private</span> String content;
</code></pre>
<h4 id="533-notnull">5.3.3 notNull</h4>
<p>@ExtractBy Contains a <code>notNull</code> property, if familiar with mysql students must be able to understand what it means: This field does not allow empty. If empty, this extract to the result is discarded. For critical attributes (such as the title of the article, etc.) some of the pages, set <code>notnull</code> to <code>true</code>, you can effectively filter out unwanted pages.</p>
<p><code>NotNull</code> default is <code>false</code>.</p>
<h4 id="534-multi-deprecated">5.3.4 multi (deprecated)</h4>
<p><code>Multi</code> is a boolean attribute that represents this extraction rule corresponding number of records or a single record. Corresponding to this field must be <code>java.util.List</code> type. After 0.4.3, when the field is a List type, this property will automatically true, no longer need to set up.</p>
<ul>
<li><p>0.4.3 before</p>
<pre><code class="lang-java">  <span class="hljs-meta">@ExtractBy</span>(value = <span class="hljs-string">&quot;//div[@class=&apos;BlogTags&apos;]/a/text()&quot;</span>, multi = <span class="hljs-keyword">true</span>)
  <span class="hljs-keyword">private</span> List&lt;String&gt; tags;
</code></pre>
</li>
<li><p>0.4.3 and later</p>
<pre><code class="lang-java">  <span class="hljs-meta">@ExtractBy</span>(<span class="hljs-string">&quot;//div[@class=&apos;BlogTags&apos;]/a/text()&quot;</span>)
  <span class="hljs-keyword">private</span> List&lt;String&gt; tags;
</code></pre>
</li>
</ul>
<h4 id="535-comboextract-deprecated">5.3.5 ComboExtract (deprecated)</h4>
<p><code>@ComboExtract</code> is a more complex notes, it can be a combination of a plurality of extraction rules, combinations including &quot;AND/OR&quot; in two ways.</p>
<p>Use the Xsoup 0.2.0 version WebMagic 0.4.3 version. In this version, XPath syntax supported greatly strengthened, not only supports the XPath and regular expressions used in combination, also supports the &quot;|&quot; ORed. Therefore author thinks, <code>ComboExtract</code> this complex combination, are no longer needed.</p>
<ul>
<li><p>XPath combination with regular expressions</p>
<pre><code class="lang-java">  <span class="hljs-meta">@ExtractBy</span>(<span class="hljs-string">&quot;//div[@class=&apos;BlogStat&apos;]/regex(&apos;\\d+-\\d+-\\d+\\s+\\d+:\\d+&apos;)&quot;</span>)
  <span class="hljs-keyword">private</span> Date date;
</code></pre>
</li>
<li><p>XPath or take</p>
<pre><code class="lang-java">  <span class="hljs-meta">@ExtractBy</span>(<span class="hljs-string">&quot;//div[@id=&apos;title&apos;]/text() | //title/text()&quot;</span>)
  <span class="hljs-keyword">private</span> String title;
</code></pre>
</li>
</ul>
<h4 id="536-extractbyurl">5.3.6 ExtractByUrl</h4>
<p><code>@ExtractByUrl</code> is a separate annotation, it means &quot;be extracted from the URL.&quot; It only supports regular expressions as extraction rules.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="targeturl.html" class="navigation navigation-prev " aria-label="Previous page: TargetUrl and HelpUrl">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="extractby-on-class.html" class="navigation navigation-next " aria-label="Next page: @ExtractBy on Class">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"@ExtractBy","level":"1.6.3","depth":2,"next":{"title":"@ExtractBy on Class","level":"1.6.4","depth":2,"path":"posts/ch5-annotation/extractby-on-class.md","ref":"posts/ch5-annotation/extractby-on-class.md","articles":[]},"previous":{"title":"TargetUrl and HelpUrl","level":"1.6.2","depth":2,"path":"posts/ch5-annotation/targeturl.md","ref":"posts/ch5-annotation/targeturl.md","articles":[]},"dir":"ltr"},"config":{"plugins":["ga","disqus"],"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"},"pluginsConfig":{"ga":{"configuration":"auto","token":"UA-49956730-1"},"disqus":{"useIdentifier":false,"shortName":"webmagic"},"highlight":{},"search":{},"lunr":{"ignoreSpecialCharacters":false,"maxIndexSize":1000000},"sharing":{"all":["facebook","google","instapaper","twitter","weibo"],"facebook":true,"google":false,"instapaper":false,"twitter":true,"vk":false,"weibo":false},"fontsettings":{"family":"sans","size":2,"theme":"white"},"theme-default":{"showLevel":false,"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"}}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"WebMagic Documents","language":"en","gitbook":"*"},"file":{"path":"posts/ch5-annotation/extractby.md","mtime":"2017-05-29T10:24:00.000Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-06-04T10:13:14.562Z"},"basePath":"../..","book":{"language":"en"}});
        });
    </script>
</div>

        
    <script src="../../../gitbook/gitbook.js"></script>
    <script src="../../../gitbook/theme.js"></script>
    
        
        <script src="../../../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/URI.js/1.16.1/URI.min.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-disqus/plugin.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

